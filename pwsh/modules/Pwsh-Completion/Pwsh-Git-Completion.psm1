$commandMap = @{
    "git"=@(
        "--version",
        "--help",
        "-C",
        "-c",
        "--exec-path",
        "--html-path",
        "--man-path",
        "--info-path",
        "--paginate",
        "-P",
        "--no-pager",
        "--no-replace-objects",
        "--bare",
        "--git-dir",
        "--work-tree",
        "--namespace",
        "-a"
    )
    "ls-remote"=@(
        "-L",
        "-R",
        "-l",
        "-r",
        "--heads",
        "--tags",
        "--refs",
        "--upload-pack",
        "-q",
        "--quiet",
        "--exit-code",
        "--get-url",
        "--sort",
        "--symref",
        "-f",
        "-o",
        "--server-option"
     )
    "imap-send"=@(
        "-I",
        "-S",
        "-i",
        "-s",
        "-v",
        "-q",
        "-p",
        "--signoff",
        "--stdout",
        "--attach",
        "--verbose",
        "--quiet",
        "--curl",
        "--no-curl",
        "-C",
        "--cover-letter",
        "-M",
        "-m",
        "-f",
        "-e"
    )
      "blame"=@(
        "-B",
        "-b",
        "-c",
        "-l",
        "--root",
        "-t",
        "-f",
        "-n",
        "-s",
        "-e",
        "-p",
        "-w",
        "--incremental",
        "-L",
        "-S",
        "-M",
        "-C",
        "--since",
        "--ignore-rev",
        "--ignore-revs-file",
        "--progress",
        "--abbrev",
        "--contents",
        "--reverse",
        "--pretty",
        "--show-stats",
        "-o",
        "--porcelain",
        "--line-porcelain",
        "--encoding",
        "--date",
        "-h",
        "--score-debug",
        "--show-name",
        "--show-number",
        "--show-email",
        "-m",
        "--diff-filter",
        "-q",
        "-g"
      )
      "symbolic-ref"=@(
        "-S",
        "-R",
        "-s",
        "-r",
        "-m",
        "-q",
        "--short",
        "--delete",
        "--quiet",
        "-z"
      )
      "init"=@(
        "-I",
        "-i",
        "-q",
        "--quiet",
        "--bare",
        "--template",
        "--separate-git-dir",
        "--shared",
        "-a",
        "-w",
        "-r",
        "-f",
        "-c"
      )
      "verify-pack"=@(
        "-V",
        "-P",
        "-v",
        "-p",
        "--verbose",
        "-s",
        "--stat-only",
        "-i",
        "-S"
      )
      "send-pack"=@(
        "-S",
        "-P",
        "-s",
        "-p",
        "--all",
        "--dry-run",
        "--force",
        "--receive-pack",
        "--verbose",
        "--thin",
        "--atomic",
        "--signed",
        "-l",
        "--exec",
        "--stdin",
        "-n",
        "--push-option"
      )
      "format-patch"=@(
        "-F",
        "-P",
        "-f",
        "-p",
        "-m",
        "-k",
        "-o",
        "--output-directory",
        "--stdout",
        "--no-thread",
        "--thread",
        "--attach",
        "--inline",
        "--no-attach",
        "--signoff",
        "--signature",
        "--no-signature",
        "--signature-file",
        "--numbered",
        "-N",
        "--no-numbered",
        "--start-number",
        "--numbered-files",
        "--in-reply-to",
        "--suffix",
        "--ignore-if-in-upstream",
        "--rfc",
        "--subject-prefix",
        "--reroll-count",
        "-v",
        "--to",
        "--cc",
        "-l",
        "--quiet",
        "--no-notes",
        "--notes",
        "--interdiff",
        "--range-diff",
        "--creation-factor",
        "--progress",
        "-R",
        "-T",
        "-I",
        "--no-stat",
        "-U",
        "--unified",
        "--output-indicator-new",
        "--output-indicator-old",
        "--output-indicator-context",
        "--indent-heuristic",
        "--no-indent-heuristic",
        "--minimal",
        "--patience",
        "--histogram",
        "--anchored",
        "--diff-algorithm",
        "--stat",
        "-w",
        "-g",
        "--compact-summary",
        "-x",
        "--numstat",
        "--shortstat",
        "-X",
        "--dirstat",
        "-b",
        "--cumulative",
        "--dirstat-by-file",
        "--summary",
        "--no-renames",
        "-e",
        "--full-index",
        "--binary",
        "--abbrev",
        "-B",
        "--break-rewrites",
        "-M",
        "--find-renames",
        "-C",
        "--find-copies",
        "--find-copies-harder",
        "-D",
        "--irreversible-delete",
        "-O",
        "--text",
        "--ignore-cr-at-eol",
        "--ignore-space-at-eol",
        "--ignore-space-change",
        "--ignore-all-space",
        "--ignore-blank-lines",
        "--inter-hunk-context",
        "-W",
        "--function-context",
        "--ext-diff",
        "--no-ext-diff",
        "--textconv",
        "--no-textconv",
        "--ignore-submodules",
        "--src-prefix",
        "--dst-prefix",
        "--no-prefix",
        "--line-prefix",
        "--ita-invisible-in-index",
        "--cached",
        "--keep-subject",
        "--from",
        "--add-header",
        "--no-binary",
        "--zero-commit",
        "--base",
        "--root",
        "-K",
        "-V",
        "-E",
        "--source",
        "--staged",
        "--worktree",
        "-S",
        "-G"
      )
      "rerere"=@(
        "-R",
        "-r",
        "-i",
        "-o",
        "-p",
        "-l",
        "--hard",
        "-w",
        "-c",
        "-m",
        "-s"
      )
      "pack-objects"=@(
        "-P",
        "-O",
        "-p",
        "-o",
        "-q",
        "--progress",
        "--all-progress",
        "--all-progress-implied",
        "--no-reuse-delta",
        "--delta-base-offset",
        "--non-empty",
        "--local",
        "--incremental",
        "--window",
        "--depth",
        "--revs",
        "--unpacked",
        "--keep-pack",
        "--stdout",
        "--filter",
        "--shallow",
        "--keep-true-parents",
        "--sparse",
        "-c",
        "--include-tag",
        "--window-memory",
        "--max-pack-size",
        "--honor-pack-keep",
        "--no-reuse-object",
        "--compression",
        "--thin",
        "-g",
        "--threads",
        "--index-version",
        "--no-filter",
        "--missing",
        "--exclude-promisor-objects",
        "--keep-unreachable",
        "--pack-loose-unreachable",
        "--unpack-unreachable",
        "--delta-islands"
      )
      "gc"=@(
        "-G",
        "-g",
        "--aggressive",
        "--auto",
        "--quiet",
        "--prune",
        "--no-prune",
        "--force",
        "--keep-largest-pack",
        "-o",
        "-i",
        "-r",
        "-d",
        "-c",
        "-u",
        "-w",
        "-z",
        "-b",
        "-t"
      )
      "var"=@(
        "-V",
        "-v",
        "-l",
        "-n",
        "-c",
        "-t"
      )
      "diff"=@(
        "-D",
        "-d",
        "--cached",
        "--no-index",
        "-a",
        "--staged",
        "-b",
        "-p",
        "-u",
        "--patch",
        "--no-patch",
        "-U",
        "--unified",
        "--output",
        "--output-indicator-new",
        "--output-indicator-old",
        "--output-indicator-context",
        "--raw",
        "--patch-with-raw",
        "--indent-heuristic",
        "--no-indent-heuristic",
        "--minimal",
        "--patience",
        "--histogram",
        "--anchored",
        "--diff-algorithm",
        "--stat",
        "-g",
        "--compact-summary",
        "-x",
        "--numstat",
        "--shortstat",
        "-X",
        "--dirstat",
        "--cumulative",
        "--dirstat-by-file",
        "--summary",
        "--patch-with-stat",
        "-z",
        "--name-only",
        "--name-status",
        "--submodule",
        "--color",
        "--no-color",
        "--color-moved",
        "--no-color-moved",
        "--color-moved-ws",
        "-e",
        "--no-color-moved-ws",
        "--word-diff",
        "--word-diff-regex",
        "--color-words",
        "--no-renames",
        "--check",
        "--exit-code",
        "--ws-error-highlight",
        "--full-index",
        "--binary",
        "--abbrev",
        "-t",
        "-B",
        "--break-rewrites",
        "-M",
        "--find-renames",
        "-C",
        "--find-copies",
        "--find-copies-harder",
        "--irreversible-delete",
        "-l",
        "--diff-filter",
        "-S",
        "-G",
        "--find-object",
        "--pickaxe-all",
        "--pickaxe-regex",
        "-O",
        "-R",
        "--relative",
        "--text",
        "--ignore-cr-at-eol",
        "--ignore-space-at-eol",
        "--ignore-space-change",
        "--ignore-all-space",
        "--ignore-blank-lines",
        "--inter-hunk-context",
        "-W",
        "--function-context",
        "--quiet",
        "--ext-diff",
        "--no-ext-diff",
        "--textconv",
        "--no-textconv",
        "--ignore-submodules",
        "--src-prefix",
        "--dst-prefix",
        "--no-prefix",
        "--line-prefix",
        "--ita-invisible-in-index",
        "-N",
        "-v",
        "--base",
        "--ours",
        "--theirs",
        "-P",
        "--git",
        "--combined",
        "--cc",
        "--combined-all-paths"
      )
      "restore"=@(
        "-R",
        "-r",
        "--source",
        "--staged",
        "--worktree",
        "-p",
        "--patch",
        "-a",
        "-W",
        "-S",
        "-q",
        "--quiet",
        "-n",
        "--progress",
        "--no-progress",
        "--ours",
        "--theirs",
        "-m",
        "--merge",
        "--conflict",
        "--ignore-unmerged",
        "--ignore-skip-worktree-bits",
        "--overlay",
        "--no-overlay",
        "-f"
      )
      "unpack-objects"=@(
        "-U",
        "-O",
        "-u",
        "-o",
        "-n",
        "-q",
        "-r",
        "--strict",
        "--max-input-size"
      )
      "mailinfo"=@(
        "-M",
        "-m",
        "-k",
        "-b",
        "-u",
        "--encoding",
        "-n",
        "-a",
        "-c",
        "-i",
        "--message-id",
        "-I",
        "--scissors",
        "--no-scissors"
      )
      "http-backend"=@(
        "-H",
        "-B",
        "-h",
        "-b",
        "-c",
        "-d",
        "-e",
        "-o",
        "-p",
        "-r",
        "-f",
        "-a",
        "-u"
      )
      "merge-index"=@(
        "-M",
        "-I",
        "-m",
        "-i",
        "-o",
        "-q",
        "-p",
        "-a",
        "-z",
        "-w",
        "-t"
      )
      "interpret-trailers"=@(
        "-I",
        "-T",
        "-i",
        "-t",
        "--trailer",
        "--parse",
        "-m",
        "-f",
        "-g",
        "-c",
        "-o",
        "-w",
        "-n",
        "-d",
        "--in-place",
        "--trim-empty",
        "--where",
        "--no-where",
        "--if-exists",
        "--no-if-exists",
        "--if-missing",
        "--no-if-missing",
        "--only-trailers",
        "--only-input",
        "-l",
        "--unfold",
        "--no-divider",
        "-b",
        "-a",
        "--oneline",
        "--format",
        "--abbrev-commit",
        "-v"
      )
      "am"=@(
        "-A",
        "-a",
        "--signoff",
        "--keep",
        "-c",
        "--interactive",
        "--committer-date-is-author-date",
        "--ignore-date",
        "--ignore-space-change",
        "--ignore-whitespace",
        "--whitespace",
        "-C",
        "-p",
        "--directory",
        "--exclude",
        "--include",
        "--reject",
        "-q",
        "--quiet",
        "-S",
        "--patch-format",
        "--continue",
        "--skip",
        "--abort",
        "--quit",
        "--show-current-patch",
        "-o",
        "-b",
        "-m",
        "--keep-non-patch",
        "--scissors",
        "--no-scissors",
        "--message-id",
        "-I",
        "--no-message-id",
        "-u",
        "--utf8",
        "--no-utf8",
        "--no-3way",
        "--rerere-autoupdate",
        "--no-rerere-autoupdate",
        "--gpg-sign",
        "--resolved",
        "--resolvemsg",
        "-l"
      )
      "name-rev"=@(
        "-N",
        "-R",
        "-n",
        "-r",
        "--tags",
        "--refs",
        "--all",
        "--stdin",
        "-i",
        "--exclude",
        "-c",
        "--name-only",
        "-d",
        "--no-undefined",
        "--always"
      )
      "show"=@(
        "-S",
        "-s",
        "--name-only",
        "--pretty",
        "--format",
        "-c",
        "--abbrev-commit",
        "-b",
        "--no-abbrev-commit",
        "--oneline",
        "--encoding",
        "--expand-tabs",
        "--no-expand-tabs",
        "-h",
        "--notes",
        "--no-notes",
        "--show-notes",
        "--show-signature",
        "-v",
        "-i",
        "-r",
        "-w",
        "--date",
        "-l",
        "--decorate",
        "-g",
        "-u",
        "--patch",
        "--no-patch",
        "-U",
        "--unified",
        "--output",
        "--output-indicator-new",
        "--output-indicator-old",
        "--output-indicator-context",
        "--raw",
        "--patch-with-raw",
        "--indent-heuristic",
        "--no-indent-heuristic",
        "--minimal",
        "--patience",
        "--histogram",
        "--anchored",
        "--diff-algorithm",
        "--stat",
        "--compact-summary",
        "-x",
        "--numstat",
        "--shortstat",
        "-X",
        "--dirstat",
        "--cumulative",
        "--dirstat-by-file",
        "--summary",
        "--patch-with-stat",
        "-z",
        "--name-status",
        "--submodule",
        "--color",
        "--no-color",
        "--color-moved",
        "--no-color-moved",
        "--color-moved-ws",
        "--no-color-moved-ws",
        "--word-diff",
        "--word-diff-regex",
        "--color-words",
        "--no-renames",
        "--check",
        "--exit-code",
        "--ws-error-highlight",
        "--full-index",
        "--binary",
        "-B",
        "--break-rewrites",
        "-M",
        "--find-renames",
        "-C",
        "--find-copies",
        "--find-copies-harder",
        "-D",
        "--irreversible-delete",
        "--diff-filter",
        "-G",
        "--find-object",
        "--pickaxe-all",
        "--pickaxe-regex",
        "-O",
        "-R",
        "--relative",
        "--text",
        "--ignore-cr-at-eol",
        "--ignore-space-at-eol",
        "--ignore-space-change",
        "--ignore-all-space",
        "--ignore-blank-lines",
        "--inter-hunk-context",
        "-W",
        "--function-context",
        "--ext-diff",
        "--no-ext-diff",
        "--textconv",
        "--no-textconv",
        "--ignore-submodules",
        "--src-prefix",
        "--dst-prefix",
        "--no-prefix",
        "--line-prefix",
        "--ita-invisible-in-index",
        "-N",
        "--cached",
        "-P",
        "--git",
        "--combined",
        "--cc",
        "--combined-all-paths",
        "-A",
        "-J"
      )
      "get-tar-commit-id"=@(
        "-G",
        "-T",
        "-C",
        "-g",
        "-t",
        "-c",
        "-i",
        "-a"
      )
      "multi-pack-index"=@(
        "-M",
        "-P",
        "-I",
        "-m",
        "-p",
        "-i",
        "--object-dir",
        "-f",
        "-b",
        "-s",
        "-z",
        "-t",
        "-n",
        "-h"
      )
      "gitweb"=@(
        "-i",
        "-d",
        "-g",
        "-E",
        "-e",
        "-c",
        "-b",
        "-a",
        "-o",
        "-r",
        "-v",
        "-t",
        "-s",
        "-h",
        "-u",
        "-p",
        "-f"
      )
      "worktree"=@(
        "-W",
        "-w",
        "-f",
        "--detach",
        "--checkout",
        "--lock",
        "-b",
        "-i",
        "--porcelain",
        "--reason",
        "-n",
        "-v",
        "--expire",
        "-B",
        "--track",
        "--force",
        "--dry-run",
        "-q",
        "--quiet",
        "--verbose",
        "-u",
        "-g",
        "-s",
        "-a",
        "-m"
      )
      "instaweb"=@(
        "-I",
        "-i",
        "--local",
        "--httpd",
        "--port",
        "--browser",
        "--start",
        "--stop",
        "--restart",
        "-d",
        "-m",
        "--module-path",
        "-w",
        "-f"
      )
      "mergetool"=@(
        "-M",
        "-m",
        "--tool",
        "-y",
        "-h",
        "--tool-help",
        "--no-prompt",
        "--prompt",
        "-g",
        "--gui",
        "--no-gui",
        "-O",
        "-c"
      )
      "grep"=@(
        "-G",
        "-g",
        "-a",
        "--text",
        "-I",
        "--textconv",
        "-i",
        "--ignore-case",
        "-w",
        "--word-regexp",
        "-v",
        "--invert-match",
        "-h",
        "-H",
        "--full-name",
        "-E",
        "--extended-regexp",
        "--basic-regexp",
        "-P",
        "--perl-regexp",
        "-F",
        "--fixed-strings",
        "--line-number",
        "--column",
        "--files-with-matches",
        "-L",
        "--files-without-match",
        "-O",
        "--open-files-in-pager",
        "-z",
        "--null",
        "--only-matching",
        "--count",
        "--all-match",
        "-q",
        "--quiet",
        "--max-depth",
        "--color",
        "--no-color",
        "--break",
        "--heading",
        "--show-function",
        "-A",
        "-B",
        "-C",
        "-W",
        "--function-context",
        "--threads",
        "--and",
        "--or",
        "--not",
        "--recurse-submodules",
        "--parent-basename",
        "--cached",
        "--no-index",
        "--untracked",
        "--no-exclude-standard",
        "--exclude-standard",
        "--no-textconv",
        "--recursive",
        "--no-recursive",
        "--name-only",
        "--context",
        "--after-context",
        "--before-context"
      )
      "annotate"=@(
        "-A",
        "-a",
        "-b",
        "--root",
        "--show-stats",
        "-L",
        "-o",
        "-l",
        "-t",
        "-S",
        "-f",
        "--reverse",
        "-p",
        "--porcelain",
        "--line-porcelain",
        "--incremental",
        "--encoding",
        "--contents",
        "--date",
        "-M",
        "-C",
        "--ignore-rev",
        "--ignore-revs-file",
        "-h"
      )
      "update-index"=@(
        "-U",
        "-I",
        "-u",
        "-i",
        "--add",
        "--remove",
        "--force-remove",
        "--replace",
        "--refresh",
        "-q",
        "--unmerged",
        "--ignore-missing",
        "--cacheinfo",
        "--chmod",
        "-w",
        "-v",
        "--ignore-submodules",
        "--really-refresh",
        "--unresolve",
        "--again",
        "-g",
        "--info-only",
        "--index-info",
        "-z",
        "--stdin",
        "--index-version",
        "--verbose",
        "-p",
        "-d",
        "-N",
        "--split-index",
        "--no-split-index",
        "--untracked-cache",
        "--no-untracked-cache",
        "-t",
        "--test-untracked-cache",
        "--force-untracked-cache",
        "--fsmonitor",
        "--no-fsmonitor",
        "-R",
        "-C",
        "-O",
        "-l",
        "--no-assume-unchanged",
        "--name-only",
        "-W"
      )
      "revert"=@(
        "-R",
        "-r",
        "-n",
        "-m",
        "-s",
        "-S",
        "--continue",
        "--skip",
        "--abort",
        "--quit",
        "-h",
        "-l",
        "-w",
        "-e",
        "--edit",
        "--mainline",
        "-f",
        "-T",
        "--no-edit",
        "--cleanup",
        "--no-commit",
        "--gpg-sign",
        "--signoff",
        "-o",
        "-b",
        "--strategy",
        "-X",
        "--strategy-option",
        "--rerere-autoupdate",
        "--no-rerere-autoupdate",
        "-p"
      )
      "range-diff"=@(
        "-R",
        "-D",
        "-r",
        "-d",
        "--color",
        "--no-color",
        "-o",
        "--no-dual-color",
        "--creation-factor",
        "-t",
        "-s",
        "-p",
        "-i",
        "-a",
        "-T",
        "-U",
        "-C",
        "-V",
        "-l"
      )
      "switch"=@(
        "-S",
        "-s",
        "--no-guess",
        "--detach",
        "-p",
        "-c",
        "-C",
        "-b",
        "--orphan",
        "-m",
        "-N",
        "-t",
        "--create",
        "--force-create",
        "--guess",
        "--track",
        "--discard-changes",
        "-r",
        "--merge",
        "-w",
        "--conflict",
        "-q",
        "--quiet",
        "--progress",
        "--no-progress",
        "--no-track",
        "--ignore-other-worktrees",
        "--recurse-submodules",
        "--no-recurse-submodules"
      )
      "read-tree"=@(
        "-R",
        "-T",
        "-r",
        "-t",
        "-m",
        "--trivial",
        "--aggressive",
        "--reset",
        "--prefix",
        "-u",
        "--exclude-per-directory",
        "-i",
        "--index-output",
        "--no-sparse-checkout",
        "--empty",
        "-f",
        "-w",
        "--dry-run",
        "-v",
        "-l",
        "--recurse-submodules",
        "-q",
        "--quiet",
        "-W",
        "--verify",
        "-b"
      )
      "fast-import"=@(
        "-F",
        "-I",
        "-f",
        "-i",
        "--force",
        "--quiet",
        "--stats",
        "--cat-blob-fd",
        "-m",
        "-u",
        "--date-format",
        "--done",
        "--export-marks",
        "--import-marks",
        "--import-marks-if-exists",
        "--relative-marks",
        "--active-branches",
        "--big-file-threshold",
        "--depth",
        "--export-pack-edges",
        "--max-pack-size",
        "-l",
        "-o",
        "-w",
        "-z",
        "--window",
        "-g"
      )
      "column"=@(
        "-C",
        "-c",
        "--command",
        "--width",
        "--indent",
        "--nl",
        "--padding",
        "--mode",
        "--raw-mode",
        "--list",
        "--column"
      )
      "quiltimport"=@(
        "-Q",
        "-q",
        "--dry-run",
        "-n",
        "--author",
        "--patches",
        "--series",
        "--keep-non-patch",
        "-b",
        "-m"
      )
      "clean"=@(
        "-C",
        "-c",
        "-d",
        "-f",
        "-i",
        "-n",
        "-q",
        "-e",
        "-x",
        "-X",
        "--force",
        "--interactive",
        "--dry-run",
        "--quiet",
        "--exclude",
        "-s"
      )
      "filter-branch"=@(
        "-F",
        "-B",
        "-f",
        "-b",
        "--setup",
        "--subdirectory-filter",
        "--env-filter",
        "--tree-filter",
        "--index-filter",
        "--parent-filter",
        "--msg-filter",
        "--commit-filter",
        "--tag-name-filter",
        "--prune-empty",
        "--original",
        "-d",
        "--force",
        "--state-branch",
        "-l",
        "-r",
        "-z",
        "-a",
        "-u",
        "--cached",
        "--ignore-unmatch",
        "--all",
        "--graft",
        "--E--F--G--H",
        "--not",
        "--index-info",
        "-v",
        "--tags"
      )
      "logpretty"=@(
        "--graph",
        "--pretty",
        "--abbrev-commit"
      )
      "logcurrent"=@(
        "--graph",
        "--pretty",
        "--abbrev-commit"
      )
      "cat-file"=@(
        "-C",
        "-F",
        "-c",
        "-f",
        "-t",
        "--allow-unknown-type",
        "-s",
        "-e",
        "-p",
        "--textconv",
        "--filters",
        "--path",
        "--batch",
        "--batch-check",
        "--follow-symlinks",
        "-z",
        "-i",
        "-o",
        "-l",
        "--batch-all-objects",
        "--buffer",
        "--unordered",
        "-r",
        "-h",
        "-d"
      )
      "bisect"=@(
        "-B",
        "-b",
        "--term-",
        "--no-checkout",
        "-o",
        "--term-good",
        "--term-bad",
        "-r",
        "--term-old",
        "--term-new",
        "-l",
        "-p",
        "-s",
        "--stat",
        "-f",
        "--hard",
        "-i",
        "--these",
        "--no-commit",
        "-e",
        "--format",
        "--objects",
        "--not",
        "--stdout"
      )
      "mv"=@(
        "-M",
        "-m",
        "-v",
        "-f",
        "-n",
        "-k",
        "--force",
        "--dry-run",
        "--verbose"
      )
      "count-objects"=@(
        "-C",
        "-O",
        "-c",
        "-o",
        "-v",
        "-H",
        "--human-readable",
        "--verbose",
        "-p",
        "-g",
        "-q",
        "-s"
      )
      "notes"=@(
        "-N",
        "-n",
        "-f",
        "--allow-empty",
        "-F",
        "-m",
        "-c",
        "-C",
        "--stdin",
        "-o",
        "-v",
        "-q",
        "-r",
        "--commit",
        "--abort",
        "--ignore-missing",
        "-p",
        "-l",
        "-b",
        "--force",
        "--message",
        "--file",
        "--reuse-message",
        "--reedit-message",
        "--ref",
        "--dry-run",
        "--strategy",
        "--quiet",
        "--verbose",
        "-g",
        "-w",
        "-t"
      )
      "remote"=@(
        "-R",
        "-r",
        "-v",
        "--verbose",
        "-t",
        "-m",
        "-f",
        "--mirror",
        "-a",
        "--auto",
        "-d",
        "--delete",
        "--add",
        "--push",
        "--all",
        "-n",
        "--dry-run",
        "--prune",
        "-h",
        "-c",
        "-l",
        "-b"
      )
      "cherry-pick"=@(
        "-C",
        "-P",
        "-c",
        "-p",
        "--edit",
        "-n",
        "-m",
        "-s",
        "-x",
        "--ff",
        "-S",
        "--continue",
        "--skip",
        "--abort",
        "--quit",
        "-w",
        "-r",
        "-l",
        "--cleanup",
        "-o",
        "--mainline",
        "--no-commit",
        "--signoff",
        "-b",
        "--gpg-sign",
        "--allow-empty",
        "-k",
        "--allow-empty-message",
        "--keep-redundant-commits",
        "--strategy",
        "-X",
        "--strategy-option",
        "--rerere-autoupdate",
        "--no-rerere-autoupdate",
        "--merge"
      )
      "shortlog"=@(
        "-S",
        "-s",
        "--pretty",
        "-n",
        "--numbered",
        "--summary",
        "-e",
        "--email",
        "--format",
        "-l",
        "-c",
        "--committer",
        "-w"
      )
      "credential-store"=@(
        "-C",
        "-S",
        "-c",
        "-s",
        "--file"
      )
      "rev-list"=@(
        "-R",
        "-L",
        "-r",
        "-l",
        "-h",
        "--not",
        "-b",
        "--all",
        "-s",
        "-g",
        "--max-count",
        "--skip",
        "--since",
        "--after",
        "--until",
        "--before",
        "--max-age",
        "--min-age",
        "--author",
        "--committer",
        "--grep-reflog",
        "-w",
        "--all-match",
        "--invert-grep",
        "--regexp-ignore-case",
        "--basic-regexp",
        "-E",
        "--extended-regexp",
        "-F",
        "--fixed-strings",
        "-P",
        "--perl-regexp",
        "-t",
        "--remove-empty",
        "--merges",
        "--no-merges",
        "--min-parents",
        "--max-parents",
        "--no-min-parents",
        "--no-max-parents",
        "--first-parent",
        "--bisect",
        "--branches",
        "--tags",
        "--remotes",
        "--glob",
        "--exclude",
        "--reflog",
        "--alternate-refs",
        "--single-worktree",
        "-o",
        "--ignore-missing",
        "--stdin",
        "--quiet",
        "--cherry-mark",
        "--cherry-pick",
        "--left-only",
        "--right-only",
        "--walk-reflogs",
        "-d",
        "--boundary",
        "--use-bitmap-index",
        "--progress",
        "--simplify-by-decoration",
        "--full-history",
        "--dense",
        "--sparse",
        "--simplify-merges",
        "--ancestry-path",
        "-A",
        "-D",
        "--bisect-vars",
        "--bisect-all",
        "--date-order",
        "--author-date-order",
        "--topo-order",
        "--reverse",
        "--objects",
        "--in-commit-order",
        "--objects-edge",
        "--objects-edge-aggressive",
        "--indexed-objects",
        "--unpacked",
        "--object-names",
        "--no-object-names",
        "--filter",
        "--no-filter",
        "--filter-print-omitted",
        "--missing",
        "--exclude-promisor-objects",
        "--no-walk",
        "--do-walk",
        "--pretty",
        "--format",
        "--abbrev-commit",
        "--no-abbrev-commit",
        "--oneline",
        "--encoding",
        "--expand-tabs",
        "--no-expand-tabs",
        "--show-signature",
        "--relative-date",
        "-z",
        "--header",
        "--parents",
        "--children",
        "--timestamp",
        "--left-right",
        "-y",
        "--graph",
        "--show-linear-break",
        "--count",
        "--decorate"
      )
      "check-attr"=@(
        "-C",
        "-A",
        "-c",
        "-a",
        "--all",
        "--stdin",
        "-z",
        "--cached",
        "-l",
        "-p"
      )
      "merge-base"=@(
        "-M",
        "-B",
        "-m",
        "-b",
        "-a",
        "--all",
        "--octopus",
        "--is-ancestor",
        "--independent",
        "--fork-point",
        "-w",
        "-s",
        "-z",
        "-c",
        "-n",
        "--verify",
        "-P",
        "-t",
        "--B2",
        "--onto",
        "-r",
        "-l"
      )
      "ls-files"=@(
        "-L",
        "-F",
        "-l",
        "-f",
        "-z",
        "-t",
        "-v",
        "--eol",
        "-x",
        "--exclude",
        "-X",
        "--exclude-from",
        "--exclude-per-directory",
        "--exclude-standard",
        "--error-unmatch",
        "--with-tree",
        "-i",
        "--full-name",
        "--recurse-submodules",
        "--abbrev",
        "-c",
        "--cached",
        "--deleted",
        "-m",
        "--modified",
        "-o",
        "--others",
        "--ignored",
        "--stage",
        "--directory",
        "--no-empty-directory",
        "--unmerged",
        "-k",
        "--killed",
        "-b",
        "--debug"
      )
      "stage"=@(
        "-S",
        "-s",
        "-a"
      )
      "clone"=@(
        "-C",
        "-c",
        "--template",
        "-l",
        "-s",
        "--no-hardlinks",
        "-q",
        "--bare",
        "--mirror",
        "-o",
        "-u",
        "-p",
        "--reference",
        "--dissociate",
        "--separate-git-dir",
        "--depth",
        "--no-tags",
        "--recurse-submodules",
        "--jobs",
        "--single-branch",
        "--local",
        "--shared",
        "-a",
        "-i",
        "--the",
        "--quiet",
        "-v",
        "--verbose",
        "--progress",
        "--server-option",
        "--no-checkout",
        "--origin",
        "--branch",
        "--upload-pack",
        "--config",
        "--shallow-since",
        "--shallow-exclude",
        "-f"
      )
      "branch"=@(
        "-B",
        "-b",
        "--color",
        "--no-color",
        "--show-current",
        "-v",
        "--abbrev",
        "--no-abbrev",
        "--column",
        "--no-column",
        "--sort",
        "--merged",
        "--no-merged",
        "--contains",
        "--no-contains",
        "--points-at",
        "--format",
        "-r",
        "--remotes",
        "--all",
        "--list",
        "--track",
        "--no-track",
        "--set-upstream-to",
        "--unset-upstream",
        "-M",
        "-C",
        "-d",
        "-D",
        "--edit-description",
        "-o",
        "--delete",
        "--create-reflog",
        "--force",
        "--move",
        "--copy",
        "-i",
        "--ignore-case",
        "--verbose",
        "-q",
        "--quiet",
        "-h"
      )
      "mktag"=@(
        "-M",
        "-m",
        "-f"
      )
      "checkout-index"=@(
        "-C",
        "-I",
        "-c",
        "-i",
        "-u",
        "-q",
        "-a",
        "-f",
        "-n",
        "--prefix",
        "--stage",
        "--temp",
        "-z",
        "--stdin",
        "--index",
        "--quiet",
        "--force",
        "--all",
        "--no-create",
        "-r",
        "-T",
        "-S",
        "--ignore-missing",
        "--refresh",
        "-e",
        "-d",
        "-M"
      )
      "stripspace"=@(
        "-S",
        "-s",
        "--strip-comments",
        "--comment-lines",
        "-w",
        "-a",
        "-o"
      )
      "pack-refs"=@(
        "-P",
        "-R",
        "-p",
        "-r",
        "--all",
        "--no-prune",
        "-f"
      )
      "merge-file"=@(
        "-M",
        "-F",
        "-m",
        "-f",
        "-w",
        "-L",
        "-n",
        "--ours",
        "--theirs",
        "--union",
        "-p",
        "--stdout",
        "-q",
        "--quiet",
        "--marker-size",
        "--diff3"
      )
      "commit"=@(
        "-C",
        "-c",
        "-a",
        "--interactive",
        "--patch",
        "-s",
        "-v",
        "-u",
        "--amend",
        "--dry-run",
        "--fixup",
        "--squash",
        "-F",
        "-m",
        "--reset-author",
        "--allow-empty",
        "--allow-empty-message",
        "--no-verify",
        "--author",
        "--date",
        "--cleanup",
        "-o",
        "-S",
        "--reuse-message",
        "--reedit-message",
        "--short",
        "--branch",
        "--porcelain",
        "--long",
        "-z",
        "--null",
        "--file",
        "--message",
        "-t",
        "--template",
        "--signoff",
        "--edit",
        "--no-edit",
        "--soft",
        "--no-post-rewrite",
        "--include",
        "--only",
        "--untracked-files",
        "--verbose",
        "-q",
        "--quiet",
        "--status",
        "--no-status",
        "--gpg-sign",
        "--no-gpg-sign",
        "-N",
        "-A",
        "-x",
        "-J"
      )
      "show-index"=@(
        "-S",
        "-I",
        "-s",
        "-i",
        "-p",
        "-o"
      )
      "update-ref"=@(
        "-U",
        "-R",
        "-u",
        "-r",
        "-m",
        "--no-deref",
        "--create-reflog",
        "--stdin",
        "-z",
        "-b",
        "-q",
        "-t"
      )
      "credential-cache"=@(
        "-C",
        "-c",
        "--timeout",
        "--socket",
        "-m"
      )
      "show-ref"=@(
        "-S",
        "-R",
        "-s",
        "-r",
        "-q",
        "--quiet",
        "--verify",
        "--head",
        "-d",
        "--dereference",
        "--hash",
        "--abbrev",
        "--tags",
        "--heads",
        "--exclude-existing",
        "-m",
        "-f",
        "-l",
        "-u"
      )
      "push"=@(
        "-P",
        "-p",
        "--all",
        "--mirror",
        "--tags",
        "--follow-tags",
        "--atomic",
        "-n",
        "--dry-run",
        "--receive-pack",
        "--repo",
        "--force",
        "--delete",
        "--prune",
        "-v",
        "--verbose",
        "-u",
        "--set-upstream",
        "-o",
        "--push-option",
        "--signed",
        "--force-with-lease",
        "--no-verify",
        "-c",
        "--such",
        "--porcelain",
        "-i",
        "--exec",
        "--no-force-with-lease",
        "-q",
        "--quiet",
        "--progress",
        "--no-recurse-submodules",
        "--recurse-submodules",
        "-z",
        "--verify",
        "--ipv4",
        "--ipv6",
        "--local",
        "-h",
        "-F",
        "-C",
        "--rebase",
        "--amend"
      )
      "update-server-info"=@(
        "-U",
        "-S",
        "-u",
        "-s",
        "-i",
        "-t",
        "-f",
        "-l"
      )
      "diff-index"=@(
        "-D",
        "-I",
        "-d",
        "-i",
        "-m",
        "--cached",
        "-p",
        "-u",
        "--patch",
        "-s",
        "--no-patch",
        "-U",
        "--unified",
        "--output",
        "--output-indicator-new",
        "--output-indicator-old",
        "--output-indicator-context",
        "--raw",
        "--patch-with-raw",
        "--indent-heuristic",
        "--no-indent-heuristic",
        "--minimal",
        "--patience",
        "--histogram",
        "--anchored",
        "--diff-algorithm",
        "--stat",
        "-g",
        "--compact-summary",
        "-x",
        "--numstat",
        "--shortstat",
        "-X",
        "--dirstat",
        "-b",
        "--cumulative",
        "--dirstat-by-file",
        "--summary",
        "--patch-with-stat",
        "-z",
        "--name-only",
        "--name-status",
        "--submodule",
        "--color",
        "--no-color",
        "--color-moved",
        "--no-color-moved",
        "--color-moved-ws",
        "-e",
        "--no-color-moved-ws",
        "--word-diff",
        "--word-diff-regex",
        "--color-words",
        "--no-renames",
        "--check",
        "--exit-code",
        "--ws-error-highlight",
        "--full-index",
        "--binary",
        "--abbrev",
        "-t",
        "-B",
        "--break-rewrites",
        "-M",
        "--find-renames",
        "-C",
        "--find-copies",
        "--find-copies-harder",
        "--irreversible-delete",
        "-l",
        "--diff-filter",
        "-S",
        "-G",
        "--find-object",
        "--pickaxe-all",
        "--pickaxe-regex",
        "-O",
        "-R",
        "--relative",
        "--text",
        "--ignore-cr-at-eol",
        "--ignore-space-at-eol",
        "--ignore-space-change",
        "--ignore-all-space",
        "--ignore-blank-lines",
        "--inter-hunk-context",
        "-W",
        "--function-context",
        "--quiet",
        "--ext-diff",
        "--no-ext-diff",
        "--textconv",
        "--no-textconv",
        "--ignore-submodules",
        "--src-prefix",
        "--dst-prefix",
        "--no-prefix",
        "--line-prefix",
        "--ita-invisible-in-index",
        "-N",
        "-v",
        "-P",
        "--git",
        "--combined",
        "--cc",
        "--combined-all-paths"
      )
      "commit-tree"=@(
        "-C",
        "-T",
        "-c",
        "-t",
        "-p",
        "-S",
        "-m",
        "-F",
        "--gpg-sign",
        "--no-gpg-sign",
        "-N",
        "-A",
        "-b",
        "-x",
        "-J",
        "-w"
      )
      "tasks"=@(
        ""
      )
      "mailsplit"=@(
        "-M",
        "-m",
        "-b",
        "-f",
        "-d",
        "--keep-cr",
        "--mboxrd",
        "-o"
      )
      "fetch"=@(
        "-F",
        "-f",
        "--multiple",
        "--all",
        "-t",
        "--tags",
        "--no-tags",
        "-c",
        "-p",
        "--append",
        "--depth",
        "--deepen",
        "--shallow-since",
        "--shallow-exclude",
        "--unshallow",
        "--update-shallow",
        "--negotiation-tip",
        "-b",
        "-r",
        "--dry-run",
        "--force",
        "-k",
        "--keep",
        "-g",
        "--prune",
        "--mirror",
        "-P",
        "--prune-tags",
        "--refmap",
        "--recurse-submodules",
        "-j",
        "--jobs",
        "--no-recurse-submodules",
        "--set-upstream",
        "-l",
        "--submodule-prefix",
        "--recurse-submodules-default",
        "--update-head-ok",
        "--upload-pack",
        "-q",
        "--quiet",
        "-v",
        "--verbose",
        "--progress",
        "--server-option",
        "--show-forced-updates",
        "--no-show-forced-updates",
        "--ff-only",
        "--ipv4",
        "--ipv6",
        "-T",
        "--local",
        "--they"
      )
      "for-each-ref"=@(
        "-F",
        "-E",
        "-R",
        "-f",
        "-e",
        "-r",
        "--count",
        "--shell",
        "--perl",
        "--python",
        "--tcl",
        "--sort",
        "--format",
        "--points-at",
        "--merged",
        "--no-merged",
        "--contains",
        "--no-contains",
        "--color",
        "--ignore-case",
        "-d",
        "-q",
        "-v",
        "-l"
      )
      "reflog"=@(
        "-R",
        "-r",
        "-o",
        "--expire",
        "--expire-unreachable",
        "--rewrite",
        "--updateref",
        "--stale-fix",
        "--dry-run",
        "-n",
        "--verbose",
        "--all",
        "--single-worktree",
        "-l",
        "-g",
        "-c",
        "-p",
        "-z"
      )
      "help"=@(
        "-H",
        "-h",
        "-a",
        "--all",
        "-g",
        "--guide",
        "-i",
        "--info",
        "-m",
        "--man",
        "-w",
        "--web",
        "--verbose",
        "-c",
        "--config",
        "--guides",
        "-b",
        "-l",
        "--global"
      )
      "tag"=@(
        "-T",
        "-t",
        "-a",
        "-s",
        "-u",
        "-f",
        "-m",
        "-F",
        "-e",
        "-d",
        "-n",
        "-l",
        "--contains",
        "--no-contains",
        "--points-at",
        "--column",
        "--no-column",
        "--create-reflog",
        "--sort",
        "--format",
        "-v",
        "--annotate",
        "--sign",
        "--no-sign",
        "--local-user",
        "--force",
        "--delete",
        "--verify",
        "--list",
        "--color",
        "-i",
        "--ignore-case",
        "--merged",
        "--no-merged",
        "--message",
        "--file",
        "--edit",
        "--cleanup",
        "-w",
        "-k",
        "-M",
        "-D"
      )
      "diff-tree"=@(
        "-D",
        "-T",
        "-d",
        "-t",
        "--stdin",
        "-m",
        "-v",
        "--no-commit-id",
        "--pretty",
        "-r",
        "--cc",
        "--combined-all-paths",
        "--root",
        "-u",
        "--patch",
        "--no-patch",
        "-U",
        "--unified",
        "--output",
        "--output-indicator-new",
        "--output-indicator-old",
        "--output-indicator-context",
        "--raw",
        "--patch-with-raw",
        "--indent-heuristic",
        "--no-indent-heuristic",
        "--minimal",
        "--patience",
        "--histogram",
        "--anchored",
        "--diff-algorithm",
        "--stat",
        "-g",
        "--compact-summary",
        "-x",
        "--numstat",
        "--shortstat",
        "-X",
        "--dirstat",
        "-b",
        "--cumulative",
        "--dirstat-by-file",
        "--summary",
        "--patch-with-stat",
        "-z",
        "--name-only",
        "--name-status",
        "--submodule",
        "--color",
        "--no-color",
        "--color-moved",
        "--no-color-moved",
        "--color-moved-ws",
        "-e",
        "--no-color-moved-ws",
        "--word-diff",
        "--word-diff-regex",
        "--color-words",
        "--no-renames",
        "--check",
        "--exit-code",
        "--ws-error-highlight",
        "--full-index",
        "--binary",
        "--abbrev",
        "-B",
        "--break-rewrites",
        "-M",
        "--find-renames",
        "-C",
        "--find-copies",
        "--find-copies-harder",
        "--irreversible-delete",
        "-l",
        "--diff-filter",
        "-S",
        "-G",
        "--find-object",
        "--pickaxe-all",
        "--pickaxe-regex",
        "-O",
        "-R",
        "--relative",
        "--text",
        "--ignore-cr-at-eol",
        "--ignore-space-at-eol",
        "--ignore-space-change",
        "--ignore-all-space",
        "--ignore-blank-lines",
        "--inter-hunk-context",
        "-W",
        "--function-context",
        "--quiet",
        "--ext-diff",
        "--no-ext-diff",
        "--textconv",
        "--no-textconv",
        "--ignore-submodules",
        "--src-prefix",
        "--dst-prefix",
        "--no-prefix",
        "--line-prefix",
        "--ita-invisible-in-index",
        "-N",
        "--cached",
        "--format",
        "--abbrev-commit",
        "--no-abbrev-commit",
        "--oneline",
        "--encoding",
        "--expand-tabs",
        "--no-expand-tabs",
        "--notes",
        "--no-notes",
        "--show-notes",
        "--show-signature",
        "--always",
        "--date",
        "--decorate",
        "-P",
        "--git"
      )
      "commit-graph"=@(
        "-C",
        "-G",
        "-c",
        "-g",
        "--object-dir",
        "--shallow",
        "-p",
        "-i",
        "-r",
        "-a",
        "-m",
        "-e",
        "-t",
        "--stdin-packs",
        "--stdin-commits",
        "--append"
      )
      "logall"=@(
        "--graph",
        "--all",
        "--pretty",
        "--abbrev-commit"
      )
      "credential"=@(
        "-C",
        "-c",
        "-s",
        "-l",
        "-v",
        "-i",
        "-o",
        "-f",
        "-h"
      )
      "rm"=@(
        "-R",
        "-r",
        "-f",
        "--force",
        "-n",
        "--cached",
        "--ignore-unmatch",
        "--quiet",
        "-e",
        "-d",
        "-t",
        "--dry-run",
        "-l",
        "-a",
        "-A",
        "-z",
        "--name-only",
        "--diff-filter",
        "-s"
      )
      "show-branch"=@(
        "-S",
        "-B",
        "-s",
        "-b",
        "-a",
        "--all",
        "-r",
        "--remotes",
        "--topo-order",
        "--date-order",
        "--current",
        "--color",
        "--no-color",
        "--sparse",
        "--more",
        "--list",
        "--independent",
        "--merge-base",
        "--no-name",
        "--sha1-name",
        "--topics",
        "-g",
        "--reflog",
        "-v",
        "--force",
        "-p",
        "-h"
      )
      "patch-id"=@(
        "-P",
        "-I",
        "-p",
        "-i",
        "--stable",
        "--unstable",
        "-b",
        "-O",
        "-e"
      )
      "apply"=@(
        "-A",
        "-a",
        "--stat",
        "--numstat",
        "--summary",
        "--check",
        "--index",
        "--intent-to-add",
        "--apply",
        "--no-add",
        "--build-fake-ancestor",
        "-R",
        "--reverse",
        "--allow-binary-replacement",
        "--binary",
        "--reject",
        "-z",
        "-p",
        "-C",
        "--inaccurate-eof",
        "--recount",
        "--cached",
        "--ignore-space-change",
        "--ignore-whitespace",
        "--whitespace",
        "--exclude",
        "--include",
        "--directory",
        "--verbose",
        "--unsafe-paths",
        "--unidiff-zero",
        "-o",
        "-l",
        "-g"
      )
      "rebase"=@(
        "-R",
        "-r",
        "-i",
        "--interactive",
        "--exec",
        "--onto",
        "--keep-base",
        "--root",
        "--continue",
        "--skip",
        "--abort",
        "--quit",
        "--edit-todo",
        "--show-current-patch",
        "-f",
        "-h",
        "-n",
        "-l",
        "--fork-point",
        "--keep-empty",
        "--allow-empty-message",
        "--merge",
        "--strategy",
        "-X",
        "--strategy-option",
        "--rerere-autoupdate",
        "--no-rerere-autoupdate",
        "-S",
        "--gpg-sign",
        "--quiet",
        "--no-stat",
        "-v",
        "--verbose",
        "--stat",
        "--no-verify",
        "--verify",
        "--no-ff",
        "--force-rebase",
        "-T",
        "--no-fork-point",
        "--ignore-whitespace",
        "--whitespace",
        "--committer-date-is-author-date",
        "--ignore-date",
        "--signoff",
        "--rebase-merges",
        "--preserve-merges",
        "-x",
        "--autosquash",
        "--no-autosquash",
        "--autostash",
        "--no-autostash",
        "--reschedule-failed-exec",
        "--no-reschedule-failed-exec",
        "-y"
      )
      "rev-parse"=@(
        "-R",
        "-P",
        "-r",
        "-p",
        "--parseopt",
        "--sq-quote",
        "-Q",
        "--keep-dashdash",
        "--stop-at-non-option",
        "-c",
        "--stuck-long",
        "--revs-only",
        "--no-revs",
        "--flags",
        "--no-flags",
        "--default",
        "--prefix",
        "--show-prefix",
        "--show-toplevel",
        "--verify",
        "-b",
        "-i",
        "--quiet",
        "-z",
        "-S",
        "--short",
        "--not",
        "--abbrev-ref",
        "--symbolic",
        "--symbolic-full-name",
        "--all",
        "--branches",
        "--tags",
        "--remotes",
        "--glob",
        "--exclude",
        "--disambiguate",
        "--local-env-vars",
        "--git-dir",
        "--absolute-git-dir",
        "--git-common-dir",
        "--is-inside-git-dir",
        "--is-inside-work-tree",
        "--is-bare-repository",
        "--is-shallow-repository",
        "--resolve-git-dir",
        "--git-path",
        "--show-cdup",
        "--show-superproject-working-tree",
        "--shared-index-path",
        "--since",
        "--after",
        "--max-age",
        "--until",
        "--before",
        "--min-age",
        "-h",
        "--foo",
        "--bar",
        "--baz",
        "--help",
        "--qux",
        "-C"
      )
      "pack-redundant"=@(
        "-P",
        "-R",
        "-p",
        "-r",
        "--verbose",
        "--alt-odb",
        "--all",
        "--full",
        "--unreachable",
        "-d"
      )
      "code-changes"=@(
        "-c",
        "--format",
        "--name-only",
        "-v",
        "-r"
      )
      "log"=@(
        "-L",
        "-l",
        "--follow",
        "--no-decorate",
        "--decorate",
        "--decorate-refs",
        "--decorate-refs-exclude",
        "--source",
        "-m",
        "--full-diff",
        "-p",
        "-b",
        "--log-size",
        "-o",
        "-g",
        "--max-count",
        "--skip",
        "--since",
        "--after",
        "--until",
        "--before",
        "--author",
        "--committer",
        "--grep-reflog",
        "-w",
        "--all-match",
        "--invert-grep",
        "--regexp-ignore-case",
        "--basic-regexp",
        "-E",
        "--extended-regexp",
        "-F",
        "--fixed-strings",
        "-P",
        "--perl-regexp",
        "-t",
        "--remove-empty",
        "--merges",
        "--no-merges",
        "--min-parents",
        "--max-parents",
        "--no-min-parents",
        "--no-max-parents",
        "--first-parent",
        "--bisect",
        "--not",
        "--branches",
        "--tags",
        "--remotes",
        "--glob",
        "--exclude",
        "--reflog",
        "--alternate-refs",
        "--single-worktree",
        "--ignore-missing",
        "--stdin",
        "--cherry-mark",
        "--cherry-pick",
        "--left-only",
        "--right-only",
        "--walk-reflogs",
        "--boundary",
        "--simplify-by-decoration",
        "--full-history",
        "--dense",
        "--sparse",
        "--simplify-merges",
        "--ancestry-path",
        "-A",
        "-D",
        "--date-order",
        "--author-date-order",
        "--topo-order",
        "--reverse",
        "--no-walk",
        "--do-walk",
        "--pretty",
        "--format",
        "--abbrev-commit",
        "--no-abbrev-commit",
        "--oneline",
        "--encoding",
        "--expand-tabs",
        "--no-expand-tabs",
        "--notes",
        "--no-notes",
        "--show-notes",
        "--show-signature",
        "-v",
        "--relative-date",
        "-z",
        "--parents",
        "--children",
        "--left-right",
        "-y",
        "--graph",
        "--show-linear-break",
        "--cc",
        "--combined-all-paths",
        "--patch",
        "--no-patch",
        "-U",
        "--unified",
        "--output",
        "--output-indicator-new",
        "--output-indicator-old",
        "--output-indicator-context",
        "--raw",
        "--patch-with-raw",
        "--indent-heuristic",
        "--no-indent-heuristic",
        "--minimal",
        "--patience",
        "--histogram",
        "--anchored",
        "--diff-algorithm",
        "--stat",
        "--compact-summary",
        "--numstat",
        "--shortstat",
        "-X",
        "--dirstat",
        "--cumulative",
        "--dirstat-by-file",
        "--summary",
        "--patch-with-stat",
        "--name-only",
        "--name-status",
        "--submodule",
        "--color",
        "--no-color",
        "--color-moved",
        "--no-color-moved",
        "--color-moved-ws",
        "--no-color-moved-ws",
        "--word-diff",
        "--word-diff-regex",
        "--color-words",
        "--no-renames",
        "--check",
        "--exit-code",
        "--ws-error-highlight",
        "--full-index",
        "--binary",
        "-B",
        "--break-rewrites",
        "--find-renames",
        "--find-copies",
        "--find-copies-harder",
        "--irreversible-delete",
        "--diff-filter",
        "-S",
        "--find-object",
        "--pickaxe-all",
        "--pickaxe-regex",
        "-R",
        "--text",
        "--ignore-cr-at-eol",
        "--ignore-space-at-eol",
        "--ignore-space-change",
        "--ignore-all-space",
        "--ignore-blank-lines",
        "--inter-hunk-context",
        "-W",
        "--function-context",
        "--ext-diff",
        "--no-ext-diff",
        "--textconv",
        "--no-textconv",
        "--ignore-submodules",
        "--src-prefix",
        "--dst-prefix",
        "--no-prefix",
        "--line-prefix",
        "--ita-invisible-in-index",
        "--cached",
        "--git"
      )
      "discard"=@(
        ""
      )
      "status"=@(
        "-S",
        "-s",
        "--short",
        "-f",
        "-b",
        "--branch",
        "--show-stash",
        "--porcelain",
        "-t",
        "--long",
        "-v",
        "--verbose",
        "-c",
        "-u",
        "--untracked-files",
        "-i",
        "--ignore-submodules",
        "--ignored",
        "-z",
        "--column",
        "--no-column",
        "--ahead-behind",
        "--no-ahead-behind",
        "--renames",
        "--no-renames",
        "-d",
        "--find-renames",
        "-e",
        "--summary-limit",
        "-o"
      )
      "check-ref-format"=@(
        "-C",
        "-R",
        "-F",
        "-c",
        "-r",
        "-f",
        "--normalize",
        "-o",
        "--refspec-pattern",
        "--branch",
        "-s",
        "-z",
        "-a",
        "-m",
        "-d",
        "-t",
        "-l"
      )
      "add"=@(
        "-A",
        "-a",
        "--verbose",
        "--dry-run",
        "-n",
        "--force",
        "--interactive",
        "--patch",
        "--edit",
        "--update",
        "--intent-to-add",
        "-N",
        "--refresh",
        "--ignore-errors",
        "--ignore-missing",
        "--renormalize",
        "--chmod",
        "--all",
        "--no-ignore-removal",
        "--no-all",
        "--ignore-removal",
        "-o",
        "-z",
        "--no-warn-embedded-repo",
        "-l",
        "-s"
      )
      "replace"=@(
        "-R",
        "-r",
        "-f",
        "--edit",
        "--graft",
        "--convert-graft-file",
        "-d",
        "--format",
        "-l",
        "-m",
        "-n",
        "-o",
        "--no-replace-objects",
        "--force",
        "--delete",
        "-p",
        "--raw",
        "--list",
        "-h",
        "-t",
        "-b",
        "-v"
      )
      "check-mailmap"=@(
        "-C",
        "-M",
        "-c",
        "-m",
        "-l",
        "-s",
        "-i",
        "--stdin"
      )
      "p4"=@(
        "-P",
        "-p",
        "-a",
        "-m",
        "-g",
        "-b",
        "-d",
        "--commit",
        "-o",
        "-l",
        "-u",
        "-s",
        "--shelve",
        "--update-shelve",
        "--origin",
        "--git-dir",
        "-v",
        "--verbose",
        "--branch",
        "-t",
        "--import-local",
        "--detect-branches",
        "--changesfile",
        "--silent",
        "--detect-labels",
        "--import-labels",
        "--max-changes",
        "--changes-block-size",
        "--keep-path",
        "--use-client-spec",
        "--destination",
        "--bare",
        "-M",
        "--preserve-user",
        "--export-labels",
        "-n",
        "--dry-run",
        "--prepare-p4-only",
        "--conflict",
        "--disable-rebase",
        "--disable-p4sync",
        "-z",
        "-q",
        "--add"
      )
      "archive"=@(
        "-A",
        "-a",
        "--format",
        "--list",
        "--prefix",
        "-o",
        "--output",
        "--worktree-attributes",
        "--remote",
        "--exec",
        "-u",
        "-i",
        "-v",
        "--verbose",
        "-c",
        "-d",
        "-s"
      )
      "merge-tree"=@(
        "-M",
        "-T",
        "-m",
        "-t",
        "-w",
        "-i"
      )
      "pull"=@(
        "-P",
        "-p",
        "-r",
        "-f",
        "-t",
        "-m",
        "-s",
        "-q",
        "--quiet",
        "-v",
        "--verbose",
        "-d",
        "-c",
        "--commit",
        "--no-commit",
        "--no-ff",
        "--edit",
        "--no-edit",
        "-g",
        "--cleanup",
        "--ff",
        "--ff-only",
        "-i",
        "-z",
        "-S",
        "--gpg-sign",
        "--log",
        "--no-log",
        "--signoff",
        "--no-signoff",
        "-b",
        "--stat",
        "--no-stat",
        "--squash",
        "--no-squash",
        "--no-verify",
        "--strategy",
        "-X",
        "--strategy-option",
        "--verify-signatures",
        "--no-verify-signatures",
        "--summary",
        "--no-summary",
        "--allow-unrelated-histories",
        "--rebase",
        "--no-rebase",
        "--autostash",
        "--no-autostash",
        "--append",
        "--depth",
        "--deepen",
        "--shallow-since",
        "--shallow-exclude",
        "--unshallow",
        "--update-shallow",
        "--negotiation-tip",
        "--force",
        "-k",
        "--keep",
        "--no-tags",
        "--update-head-ok",
        "--upload-pack",
        "--progress",
        "--server-option",
        "--show-forced-updates",
        "--no-show-forced-updates",
        "--ipv4",
        "--ipv6",
        "--local",
        "-w",
        "--recurse-submodules"
      )
      "verify-tag"=@(
        "-V",
        "-T",
        "-v",
        "-t",
        "--format",
        "--raw",
        "--verbose"
      )
      "fmt-merge-msg"=@(
        "-F",
        "-M",
        "-f",
        "-m",
        "--log",
        "--no-log",
        "--message",
        "--file"
      )
      "submodule"=@(
        "-S",
        "-s",
        "--quiet",
        "--cached",
        "--recursive",
        "-f",
        "--force",
        "--all",
        "-b",
        "--name",
        "--reference",
        "--depth",
        "-t",
        "-i",
        "--init",
        "--remote",
        "-N",
        "--no-fetch",
        "--checkout",
        "--rebase",
        "--merge",
        "--jobs",
        "--branch",
        "--default",
        "--files",
        "--summary-limit",
        "-z",
        "-p",
        "--progress",
        "--dissociate"
      )
      "prune-packed"=@(
        "-P",
        "-p",
        "-n",
        "--dry-run",
        "-q",
        "--quiet",
        "-o"
      )
      "prune"=@(
        "-P",
        "-p",
        "-n",
        "-v",
        "--progress",
        "--expire",
        "-r",
        "--dry-run",
        "--verbose",
        "--all",
        "--unreachable",
        "-f",
        "-g"
      )
      "reset"=@(
        "-R",
        "-r",
        "-q",
        "-i",
        "--patch",
        "--soft",
        "--mixed",
        "-N",
        "--hard",
        "--merge",
        "--keep",
        "-a",
        "-t",
        "-u",
        "--quiet",
        "--no-quiet",
        "-c",
        "-C",
        "-f",
        "--cached",
        "--option"
      )
      "cherry"=@(
        "-C",
        "-c",
        "-v",
        "-p",
        "-a",
        "-r",
        "-b",
        "-e",
        "--graph",
        "--oneline",
        "--decorate",
        "--boundary",
        "-i"
      )
      "verify-commit"=@(
        "-V",
        "-C",
        "-v",
        "-c",
        "--raw",
        "--verbose"
      )
      "describe"=@(
        "-D",
        "-d",
        "--all",
        "--tags",
        "--contains",
        "--abbrev",
        "-i",
        "--dirty",
        "-r",
        "-s",
        "--broken",
        "--candidates",
        "--exact-match",
        "--debug",
        "--long",
        "-g",
        "--match",
        "-n",
        "--exclude",
        "--always",
        "--first-parent"
      )
      "write-tree"=@(
        "-W",
        "-T",
        "-w",
        "-t",
        "--missing-ok",
        "--prefix"
      )
      "send-email"=@(
        "-S",
        "-E",
        "-s",
        "-e",
        "-l",
        "--dump-aliases",
        "-f",
        "-p",
        "-H",
        "--annotate",
        "--bcc",
        "--cc",
        "--compose",
        "-v",
        "-R",
        "-T",
        "--from",
        "--reply-to",
        "--in-reply-to",
        "-n",
        "-I",
        "--subject",
        "--to",
        "--to-cmd",
        "-A",
        "--compose-encoding",
        "--transfer-encoding",
        "--xmailer",
        "--no-xmailer",
        "-M",
        "--envelope-sender",
        "--smtp-encryption",
        "--smtp-domain",
        "--smtp-auth",
        "-u",
        "--smtp-pass",
        "--no-smtp-auth",
        "--smtp-server",
        "--smtp-server-port",
        "--smtp-server-option",
        "--smtp-ssl",
        "--smtp-ssl-cert-path",
        "-C",
        "--smtp-user",
        "--smtp-debug",
        "--batch-size",
        "--relogin-delay",
        "--no-identity",
        "--cc-cmd",
        "--no-chain-reply-to",
        "--identity",
        "--signed-off-by-cc",
        "--no-cc-cover",
        "--no-to-cover",
        "--suppress-cc",
        "--suppress-from",
        "--no-signed-off-cc",
        "--no-suppress-from",
        "--no-thread",
        "--thread",
        "--confirm",
        "--dry-run",
        "--quiet",
        "--force",
        "--cover-letter"
      )
      "mktree"=@(
        "-M",
        "-m",
        "-o",
        "-t",
        "-z",
        "--missing",
        "--batch",
        "-r",
        "-s",
        "-l"
      )
      "unpack-file"=@(
        "-U",
        "-F",
        "-u",
        "-f"
      )
      "check-ignore"=@(
        "-C",
        "-I",
        "-c",
        "-i",
        "--stdin",
        "-l",
        "--no-index",
        "-q",
        "--quiet",
        "-v",
        "--verbose",
        "-z",
        "-p",
        "--non-matching",
        "-f",
        "-d",
        "-r"
      )
      "repack"=@(
        "-R",
        "-r",
        "-a",
        "-A",
        "-d",
        "-f",
        "-F",
        "-l",
        "-n",
        "-q",
        "-b",
        "--window",
        "--depth",
        "--threads",
        "--keep-pack",
        "-o",
        "-g",
        "-s",
        "-i",
        "--window-memory",
        "--max-pack-size",
        "--write-bitmap-index",
        "--pack-kept-objects",
        "--unpack-unreachable",
        "--keep-unreachable",
        "--delta-islands"
      )
      "request-pull"=@(
        "-R",
        "-P",
        "-r",
        "-p",
        "-l"
      )
      "hash-object"=@(
        "-H",
        "-O",
        "-h",
        "-o",
        "-t",
        "-w",
        "--path",
        "--no-filters",
        "--stdin",
        "--literally",
        "--stdin-paths"
      )
      "stash"=@(
        "-S",
        "-s",
        "-q",
        "--quiet",
        "--index",
        "-p",
        "--patch",
        "-k",
        "-u",
        "--include-untracked",
        "-a",
        "--all",
        "-m",
        "--message",
        "-o",
        "-n",
        "-l",
        "-W",
        "-c",
        "--soft",
        "--keep-index",
        "--unreachable",
        "-d",
        "-f",
        "--merges",
        "--no-walk",
        "--grep",
        "-r"
      )
      "daemon"=@(
        "-D",
        "-d",
        "--verbose",
        "--syslog",
        "--export-all",
        "--timeout",
        "--init-timeout",
        "--max-connections",
        "--strict-paths",
        "--base-path",
        "--base-path-relaxed",
        "--user-path",
        "--interpolated-path",
        "--reuseaddr",
        "--detach",
        "--pid-file",
        "--enable",
        "--disable",
        "--allow-override",
        "--forbid-override",
        "--access-hook",
        "--inetd",
        "--listen",
        "--port",
        "--group",
        "--log-destination",
        "-w",
        "--no-informative-errors",
        "-z"
      )
      "difftool"=@(
        "-D",
        "-d",
        "--dir-diff",
        "-y",
        "--no-prompt",
        "--prompt",
        "-t",
        "--tool",
        "-h",
        "-i",
        "--tool-help",
        "-s",
        "-x",
        "--extcmd",
        "-g",
        "-c",
        "-z",
        "-m"
      )
      "whatchanged"=@(
        "-W",
        "-w",
        "-l",
        "-p",
        "-s"
      )
      "checkout"=@(
        "-C",
        "-c",
        "-q",
        "-f",
        "-m",
        "--detach",
        "-b",
        "-B",
        "--orphan",
        "--ours",
        "--theirs",
        "--conflict",
        "-i",
        "-p",
        "--patch",
        "-n",
        "-g",
        "--track",
        "-e",
        "--quiet",
        "--progress",
        "--no-progress",
        "--force",
        "-r",
        "--no-track",
        "--guess",
        "--no-guess",
        "-l",
        "-a",
        "--ignore-skip-worktree-bits",
        "--merge",
        "--ignore-other-worktrees",
        "--overwrite-ignore",
        "--no-overwrite-ignore",
        "--recurse-submodules",
        "--no-recurse-submodules",
        "--overlay",
        "--no-overlay",
        "-N"
      )
      "index-pack"=@(
        "-I",
        "-P",
        "-i",
        "-p",
        "-v",
        "-o",
        "-f",
        "--stdin",
        "--fix-thin",
        "--keep",
        "--index-version",
        "-b",
        "--strict",
        "--check-self-contained-and-connected",
        "--fsck-objects",
        "--threads",
        "-d",
        "--max-input-size"
      )
      "fsck"=@(
        "-F",
        "-f",
        "--tags",
        "--root",
        "--unreachable",
        "--cache",
        "--no-reflogs",
        "--strict",
        "--verbose",
        "--lost-found",
        "--connectivity-only",
        "-d",
        "--full",
        "--no-full",
        "--name-objects",
        "-p",
        "--no-progress",
        "--progress",
        "-i",
        "-g"
      )
      "merge-one-file"=@(
        "-M",
        "-O",
        "-F",
        "-m",
        "-o",
        "-f",
        "-i"
      )
      "merge"=@(
        "-M",
        "-m",
        "-n",
        "--stat",
        "--no-commit",
        "--squash",
        "--no-verify",
        "-X",
        "-o",
        "-S",
        "-u",
        "-h",
        "-a",
        "-F",
        "--continue",
        "--abort",
        "--quit",
        "-t",
        "--commit",
        "-f",
        "--no-ff",
        "--edit",
        "--no-edit",
        "-g",
        "--cleanup",
        "--ff",
        "--ff-only",
        "-i",
        "-z",
        "--gpg-sign",
        "--log",
        "--no-log",
        "--signoff",
        "--no-signoff",
        "-b",
        "--no-stat",
        "--no-squash",
        "--strategy",
        "--strategy-option",
        "--verify-signatures",
        "--no-verify-signatures",
        "--summary",
        "--no-summary",
        "--quiet",
        "--no-progress",
        "--verbose",
        "--progress",
        "--allow-unrelated-histories",
        "--file",
        "--rerere-autoupdate",
        "--no-rerere-autoupdate",
        "--overwrite-ignore",
        "--no-overwrite-ignore",
        "-w",
        "-d",
        "--gui"
      )
      "diff-files"=@(
        "-D",
        "-F",
        "-d",
        "-f",
        "-q",
        "-c",
        "--cc",
        "-p",
        "-u",
        "--patch",
        "-s",
        "--no-patch",
        "-U",
        "--unified",
        "--output",
        "--output-indicator-new",
        "--output-indicator-old",
        "--output-indicator-context",
        "--raw",
        "--patch-with-raw",
        "--indent-heuristic",
        "--no-indent-heuristic",
        "--minimal",
        "--patience",
        "--histogram",
        "--anchored",
        "--diff-algorithm",
        "--stat",
        "-g",
        "--compact-summary",
        "-x",
        "--numstat",
        "--shortstat",
        "-X",
        "--dirstat",
        "-b",
        "--cumulative",
        "--dirstat-by-file",
        "--summary",
        "--patch-with-stat",
        "-z",
        "--name-only",
        "--name-status",
        "--submodule",
        "--color",
        "--no-color",
        "--color-moved",
        "--no-color-moved",
        "--color-moved-ws",
        "-e",
        "--no-color-moved-ws",
        "--word-diff",
        "--word-diff-regex",
        "--color-words",
        "--no-renames",
        "--check",
        "--exit-code",
        "--ws-error-highlight",
        "--full-index",
        "--binary",
        "--abbrev",
        "-t",
        "-B",
        "--break-rewrites",
        "-M",
        "--find-renames",
        "-C",
        "--find-copies",
        "--find-copies-harder",
        "--irreversible-delete",
        "-l",
        "--diff-filter",
        "-S",
        "-G",
        "--find-object",
        "--pickaxe-all",
        "--pickaxe-regex",
        "-O",
        "-R",
        "--relative",
        "--text",
        "--ignore-cr-at-eol",
        "--ignore-space-at-eol",
        "--ignore-space-change",
        "--ignore-all-space",
        "--ignore-blank-lines",
        "--inter-hunk-context",
        "-W",
        "--function-context",
        "--quiet",
        "--ext-diff",
        "--no-ext-diff",
        "--textconv",
        "--no-textconv",
        "--ignore-submodules",
        "--src-prefix",
        "--dst-prefix",
        "--no-prefix",
        "--line-prefix",
        "--ita-invisible-in-index",
        "-N",
        "--cached",
        "-v",
        "--base",
        "--ours",
        "--theirs",
        "-P",
        "--git",
        "--combined",
        "--combined-all-paths"
      )
      "bundle"=@(
        "-B",
        "-b",
        "-r",
        "-l",
        "-a",
        "-h",
        "-z",
        "-s",
        "-f",
        "-o",
        "--since"
      )
      "config"=@(
        "-C",
        "-c",
        "-o",
        "--type",
        "--show-origin",
        "-z",
        "--null",
        "--add",
        "--replace-all",
        "--get",
        "--get-all",
        "--name-only",
        "--get-regexp",
        "--get-urlmatch",
        "--unset",
        "--unset-all",
        "--rename-section",
        "--remove-section",
        "-l",
        "--list",
        "--get-color",
        "--get-colorbool",
        "-i",
        "-e",
        "--edit",
        "-w",
        "-f",
        "-v",
        "-p",
        "--global",
        "--system",
        "--local",
        "--worktree",
        "--file",
        "--blob",
        "--bool",
        "--int",
        "--bool-or-int",
        "--path",
        "--expiry-date",
        "--no-type",
        "--default",
        "-h",
        "-m",
        "-q",
        "-J",
        "--git-dir",
        "--work-tree",
        "-S",
        "-k",
        "--sort",
        "-A",
        "-B",
        "--interactive",
        "--daemon",
        "--stat",
        "-U",
        "--ignore-submodules",
        "--gui",
        "--attach",
        "--numbered",
        "--to",
        "--cc",
        "--no-index",
        "-N",
        "--negotiate",
        "--ntlm",
        "-D",
        "-E",
        "--scissors",
        "--verify-signatures",
        "-F",
        "--pretty",
        "--auto",
        "--receive-pack",
        "--upload-pack",
        "--no-tags",
        "--tags",
        "-G",
        "-P",
        "--short",
        "--no-short",
        "--branch",
        "--no-branch",
        "--untracked-files",
        "--summary-limit",
        "--local-user"
      )
      "fast-export"=@(
        "-F",
        "-E",
        "-f",
        "-e",
        "-r",
        "--progress",
        "--signed-tags",
        "--tag-of-filtered-object",
        "-l",
        "-M",
        "-C",
        "-d",
        "--export-marks",
        "--import-marks",
        "--mark-tags",
        "--fake-missing-tagger",
        "--use-done-feature",
        "--no-data",
        "--full-tree",
        "--anonymize",
        "--reference-excluded-parents",
        "--show-original-ids",
        "--reencode",
        "--refspec",
        "--all"
      )
      "ls-tree"=@(
        "-L",
        "-T",
        "-l",
        "-t",
        "-d",
        "-r",
        "-z",
        "--name-only",
        "--name-status",
        "--full-name",
        "--full-tree",
        "--abbrev",
        "-i",
        "--long",
        "-b",
        "-j"
      )
      "fetch-pack"=@(
        "-F",
        "-P",
        "-f",
        "-p",
        "--all",
        "--quiet",
        "--keep",
        "--thin",
        "--include-tag",
        "--upload-pack",
        "--depth",
        "--no-progress",
        "-v",
        "--stdin",
        "-r",
        "-l",
        "--exec",
        "-c",
        "--shallow-since",
        "--shallow-exclude",
        "--deepen-relative",
        "--check-self-contained-and-connected",
        "-o",
        "-h"
    )
    "show-updates"=@(
      "--submodules"
  )
}
# TODO
# [ ] Handle the cases for sub-commands (e.g git stash push)
# [ ] If there's a file/folder with a name starting with the command, the
#     command completion doesn't work.

function Get-Current-Command($commandComponents, $gitCommands) {
    $containsOption = $false
    $commands = ""
    for ($index = 0; $index -lt $commandComponents.Length; $index++) {
        $component = $commandComponents[$index].Trim()
        if ($index -eq 1 -and $component.StartsWith("-")) {
            $containsOption = $true
        }

        if ($component -in $gitCommands) {
            $commands += " $component"
        }
    }

    $commands = $commands.Trim()
    if ($commandComponents.Length -gt 1 -and -not $containsOption) {
        $commands = $commands.Replace("git", "")
    }

    return $commands.Trim()
}

# Helper function to update the commands from the django-admin executable.
# It's called manually and the results are saved in the script.
function Build-Help-Registry() {
    $commands = Get-Git-Commands
    $commandMap = @{}
    $commands | ForEach-Object {
        $command = $_
        $output = $(git help $command)
        $options = ""
        $output | ForEach-Object {
            $line = $_
            $result = Select-String -InputObject $line `
                -Pattern "(--[a-z](-|\w+)+|-[a-z])" -List -AllMatches

            $result.Matches | ForEach-Object {
                if ($_ -and -not $options.Contains($_)) {
                    $trimmed = $_.Value.Trim()
                    $options += ",$trimmed"
                }
            }

            $commandMap[$command] = $options.Trim().Split(",")
        }
    }

    return $commandMap
}

function Get-Git-Commands() {
    $gitCommands = ""
    $allHelp = $(git help -a)
    $allHelp | ForEach-Object {
        $line = $_.Trim()
        if ($line -cmatch "^[a-z]") {
            $command = $line.Trim().Split(" ")[0].Trim()
            $gitCommands += ",$command"
        }
    }

    return $gitCommands.Split(",")
}

Register-ArgumentCompleter -Native -CommandName git -ScriptBlock {
    Param($wordToComplete, $commandAst, $cursorPosition)

    $textToComplete = $commandAst.ToString()
    $textComponents = $textToComplete.Split(" ")

    $currentCommand = Get-Current-Command $textComponents $commandMap.Keys
    if ($wordToComplete -match "^-") {
        $commandMap[$currentCommand] | ForEach-Object {
            $command = $_
            if ($command -like "$wordToComplete*") {
                New-Object -Type System.Management.Automation.CompletionResult `
                    -ArgumentList $command,
                    $command,
                    "ParameterValue",
                    $command
            }
        }

        return
    }

    $commandCompleted = $false
    if ($currentCommand -eq "git" -or $currentCommand -eq "") {
        $commandMap.Keys | ForEach-Object {
            $command = $_

            if ($command -like "$wordToComplete*") {
                $commandCompleted = $true
                New-Object -Type System.Management.Automation.CompletionResult `
                    -ArgumentList $command,
                    $command,
                    "ParameterValue",
                    $command
            }
        }

        if ($commandCompleted) {
            return
        }
    }

    $allBranches = $(git branch -a) | ForEach-Object {
        $_.Replace("*", "").Trim().Replace("remotes/", "")
    }
    $tags = $(git tag --list)

    $prefix = ""
    if ($wordToComplete.Contains("..")) {
        $dotIndex = $wordToComplete.LastIndexOf(".")
        $prefix = $wordToComplete.Substring(0, $dotIndex + 1)
        $wordToComplete = $wordToComplete.Substring(`
            $dotIndex + 1, $wordToComplete.Length - ($dotIndex + 1))
    }
    elseif ($wordToComplete.Contains(":")) {
        $wordToComplete = $wordToComplete.Replace(":", "")
        $prefix = ":"
    }

    $completionList = $allBranches + $tags
    $completionList | ForEach-Object {
        $branchName = $_
        if ($branchName -like "$wordToComplete*" -or `
            $branchName.TrimStart("origin/") -like "$wordToComplete*") {
            if ($wordToComplete.StartsWith("origin") `
                -and -not $branchName.StartsWith("origin/")) {
                $branchName = "origin/" + $branchName
            }
            elseif (-not $wordToComplete.StartsWith("origin") `
                -and $branchName.StartsWith("origin/")) {
                $branchName = $branchName.TrimStart("origin/")
            }

            $branchName = $prefix + $branchName
            if (-not $branchName.Contains("origin/HEAD")) {
                New-Object -Type System.Management.Automation.CompletionResult -ArgumentList $branchName,
                    $branchName,
                    "ParameterValue",
                    $branchName
            }
        }
    }
}
